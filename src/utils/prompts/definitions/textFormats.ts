/**
 * @fileoverview 文本格式规范
 */

export const TEXT_FORMAT_MARKERS = `
# 文本格式标记

- 环境描写: \`【...】\`
- 内心思考: \`\`...\`\`
- 角色对话: \`"..."\`
- 系统判定: \`〖...〗\`
`.trim()

export const DICE_ROLLING_RULES = `
# 通用判定系统 v5.0

## 1. 核心公式
**最终判定值 = 基础判定值 + 气运骰子**

### 基础判定值（由角色属性决定）
基础值 = 先天属性加权 + 境界加成 + 技艺加成 + 环境修正

### 气运骰子（前端提供的随机数）
- 系统会在需要判定时提供 \`dice_roll\`（1-100的随机数）
- **气运修正**：骰子结果 = dice_roll × (1 + 气运/100)
  - 气运10：骰子×1.1 | 气运50：骰子×1.5 | 气运100：骰子×2.0
- **骰子转换**：(修正后骰子 - 50) / 5 = 最终加成（范围约-10~+20）
  - 骰子30（气运10）→ 33 → (33-50)/5 = -3.4
  - 骰子70（气运50）→ 105 → (105-50)/5 = +11
  - 骰子95（气运100）→ 190 → (190-50)/5 = +28

## 2. 触发判定的场景
**需要判定**：战斗攻防 | 炼丹炼器 | 修炼突破 | 危险探索 | 社交博弈
**无需判定**：日常行为 | 大境界碾压 | 纯叙事

## 3. 属性加权表
| 判定类型 | 主属性×0.5 | 副属性×0.3 | 辅属性×0.2 |
|---------|-----------|-----------|-----------|
| 战斗 | 根骨 | 灵性 | 气运 |
| 炼丹炼器 | 悟性 | 灵性 | 心性 |
| 突破 | 悟性 | 灵性 | 心性 |
| 探索 | 气运 | 灵性 | 悟性 |
| 社交 | 魅力 | 悟性 | 心性 |

## 4. 境界加成
凡人0 | 炼气5 | 筑基12 | 金丹20 | 元婴30 | 化神42 | 炼虚55 | 合体70 | 渡劫88
阶段：初期+0 | 中期+2 | 后期+4 | 圆满+6 | 极境+8

## 5. 难度与结果
| 难度 | 基准值 |
|-----|-------|
| 极易 | 10 |
| 简单 | 20 |
| 普通 | 35 |
| 困难 | 50 |
| 艰难 | 70 |
| 极难 | 90 |

**结果判定**（最终判定值 vs 难度）：
- 大失败: < 难度-15
- 失败: < 难度
- 成功: ≥ 难度
- 大成功: ≥ 难度+15
- 完美: ≥ 难度+30

## 6. 输出格式（铁律）
**禁止在text正文中描述判定过程！只输出判定卡片！**

格式：〖类型:结果,判定值:X,难度:Y,骰子:D(气运修正后),先天:A,境界:B〗

示例：
- 〖炼丹:成功,判定值:52,难度:50,骰子:+8(原65×1.2),先天:12,境界:22〗
- 〖斗法:大成功,判定值:71,难度:45,骰子:+18(原80×1.5),先天:15,境界:30〗
`.trim()

export const COMBAT_DAMAGE_RULES = `
## 战斗伤害
\`基础伤害=(根骨+灵性)×境界系数+武器伤害\`
\`实际伤害=基础伤害-(对方根骨+护甲)×境界系数\`
境界系数：炼气1/筑基2/金丹4/元婴8/化神15/炼虚25/合体40/渡劫60
`.trim()

export const NAMING_CONVENTIONS = `
# 命名约定

物品ID:\`类型_数字\` | 位置:\`大陆·地点\` | 品质:\`{"quality":"凡~神","grade":0-10}\`
`.trim()
