/**
 * @file System Task Prompts
 * @description This file contains all prompts related to the AI-driven system task generation.
 * It's designed to be conditionally injected into the AI's context when the feature is enabled.
 */

export const getSystemTaskPrompt = (customPrompt?: string): string => {
  const basePrompt = `
## ç³»ç»Ÿä»»åŠ¡

### ç»“æ„
\`\`\`json
{"ç³»ç»Ÿä»»åŠ¡":{"é…ç½®":{"å¯ç”¨":true,"ä»»åŠ¡ç±»å‹":"all|relationship|...","é¢å‘æ•°é‡":3},"è¿›è¡Œä¸­ä»»åŠ¡":[{ä»»åŠ¡å¯¹è±¡}],"å·²å®Œæˆä»»åŠ¡åç§°":[]}}
\`\`\`

âš ï¸ **è§„åˆ™**ï¼šå¯ç”¨=trueæ‰æ“ä½œ | ç”Ÿæˆâ‰¤é¢å‘æ•°é‡â‰¤5 | ğŸ”´æ¯æ¬¡ç”Ÿæˆåæ£€æŸ¥ä»»åŠ¡æ¡ä»¶ | æ‰€æœ‰æ¡ä»¶.å®Œæˆ=trueâ†’ç«‹å³æ‰§è¡Œå®Œæˆæµç¨‹ | å®Œæˆâ†’å‘å¥–åŠ±+pullåˆ é™¤+pushåç§° | å¤±è´¥â†’æƒ©ç½š+åˆ é™¤

### IDå‘½å
æ ¼å¼:\`task_ç±»å‹_å¹´æœˆæ—¥_åºå·\` ç¼©å†™:reläº¤å‹/comé“ä¾£/culä¿®ç‚¼/expæ¢ç´¢/batæˆ˜æ–—/cusè‡ªå®šä¹‰

### æœ‰æ•ˆæœŸ
å•ä½:æ¸¸æˆå†…åˆ†é’Ÿ æ¢ç®—:1æ—¶=60,1å¤©=1440,1æœˆ=43200,1å¹´=518400 è¿‡æœŸ:(å½“å‰-é¢å‘)>æœ‰æ•ˆæœŸ

### è§¦å‘
æ–°åœ°ç‚¹â†’æ¢ç´¢/æˆ˜æ–— | æ–°NPCäº’åŠ¨å¥½â†’äº¤å‹ | å¥½æ„Ÿâ‰¥60â†’é“ä¾£ | çªç ´â†’ä¿®ç‚¼ | å…³é”®èŠ‚ç‚¹â†’å¯¹åº”

### æ“ä½œç¤ºä¾‹

**é¢å‘**: \`{"action":"push","key":"ç³»ç»Ÿä»»åŠ¡.è¿›è¡Œä¸­ä»»åŠ¡","value":{å®Œæ•´ä»»åŠ¡å¯¹è±¡}}\`

**æ›´æ–°è¿›åº¦**: \`{"action":"set","key":"ç³»ç»Ÿä»»åŠ¡.è¿›è¡Œä¸­ä»»åŠ¡.0.æ¡ä»¶.0.è¿›åº¦.å½“å‰","value":2}\`

**æ ‡è®°æ¡ä»¶å®Œæˆ**: \`{"action":"set","key":"ç³»ç»Ÿä»»åŠ¡.è¿›è¡Œä¸­ä»»åŠ¡.0.æ¡ä»¶.0.å®Œæˆ","value":true}\`

**ğŸ”´å®Œæˆä»»åŠ¡**(æŒ‰é¡ºåºæ‰§è¡Œ,ç¼ºä¸€ä¸å¯):
\`\`\`json
[
  {"action":"add","scope":"chat","key":"èƒŒåŒ….çµçŸ³.ä¸‹å“","value":100},
  {"action":"pull","scope":"chat","key":"ç³»ç»Ÿä»»åŠ¡.è¿›è¡Œä¸­ä»»åŠ¡","value":{"ä»»åŠ¡ID":"task_rel_1000_0315_001"}},
  {"action":"push","scope":"chat","key":"ç³»ç»Ÿä»»åŠ¡.å·²å®Œæˆä»»åŠ¡åç§°","value":"åˆè¯†é“å‹"}
]
\`\`\`

**å¤±è´¥ä»»åŠ¡**:
\`\`\`json
[
  {"action":"add","scope":"chat","key":"ç©å®¶è§’è‰²çŠ¶æ€.å£°æœ›","value":-10},
  {"action":"pull","scope":"chat","key":"ç³»ç»Ÿä»»åŠ¡.è¿›è¡Œä¸­ä»»åŠ¡","value":{"ä»»åŠ¡ID":"task_xxx"}}
]
\`\`\`
  `;

  if (customPrompt) {
    return `${basePrompt}\n\n### è‡ªå®šä¹‰è§„åˆ™\n${customPrompt}`;
  }

  return basePrompt;
};