机制与数据结构归纳
我们来详细解析一下这个结构背后的设计思想和游戏机制。

1. 顶层结构：清晰分离
当前激活存档: 用于游戏启动时快速定位到玩家上次游玩的位置，简化了“继续游戏”的逻辑。
角色列表: 存储了玩家创建的所有角色，以唯一的角色ID（如char_1001）作为索引，方便程序快速查找。
2. 角色层：动静分离
每个角色对象都包含两个核心部分，实现了“静态”与“动态”数据的分离：

角色基础信息: （静态数据） 这是角色被创建时就已确定的、几乎不会改变的信息。例如名字、天赋、先天属性。这部分数据可以在多个存档之间共享。
存档列表 / 存档: （动态数据） 这是角色在游戏世界中冒险的实时记录，会频繁发生变化。
3. 存档层：模式区分
单机模式 (存档列表): 允许多个并行的游戏进度。每个存档（存档1, 存档2）都是一个完整的世界快照。
联机模式 (存档): 只有一个游戏进度，数据需要与云端同步。云端同步信息字段用于版本控制和冲突解决。
4. 存档数据核心机制（存档数据）
这是游戏最核心的部分，我们将其拆分为几个逻辑清晰的模块：

A. 角色状态 - 你是谁，在哪里
核心属性: 境界、声望、气血、灵气等，都集中在这里。
状态分组: 将当前值和最大值组合成一个对象（如 气血: { "当前": 95, "最大": 100 }），结构更清晰，方便UI显示血条等。
状态效果: 一个动态列表，用于记录角色当前的Buff/Debuff。游戏可以根据这里的文字描述来触发不同的效果或显示在UI上。
B. 背包与装备栏 - 引用机制 (核心优化)
这是一个关键的优化点，避免了数据冗余。

背包.物品:
唯一ID索引: 所有物品都存放在这里，并使用一个全局唯一的ID（如 item_uuid_f8a3）作为键。这使得查找、更新、删除物品的操作非常高效。
详细的物品属性: 每个物品对象都包含了它所有的信息：类型、品质、增幅、特效等。
类型: 使用字符串（"法宝", "丹药"）比数字（0, 1, 2）更直观，不易出错。
品质: 分为阶位（凡、黄、玄...）和品级（1-10），为装备系统提供了丰富的变化空间。
装备栏:
只存引用: 装备栏（如武器, 防具）中只存储背包里对应物品的唯一ID。
工作流程: 当玩家装备一件武器时，程序做两件事：
将背包中该武器的ID填入装备栏.武器字段。
根据该ID去背包.物品中查找详细属性，并计算给角色的加成。
好处: 装备损坏或卸下时，只需将ID从装备栏移除，物品本身还在背包里，逻辑非常清晰。
